"use strict";(self.webpackChunkquiz_lab_lms=self.webpackChunkquiz_lab_lms||[]).push([[508],{6508:(gt,w,s)=>{s.r(w),s.d(w,{UserModule:()=>m});var d=s(9132),a=s(433),h=(()=>{return(i=h||(h={})).MALE="MALE",i.FEMALE="FEMALE",h;var i})(),t=s(4650),z=s(9618),b=s(9651),f=s(1481),_=s(6895),O=s(419),P=s(8198);function I(i,n){1&i&&(t.TgZ(0,"div",44)(1,"span",45),t._uU(2,"This field is required!"),t.qZA()())}function S(i,n){1&i&&(t.TgZ(0,"div",44)(1,"span",45),t._uU(2,"Phone is invalid!"),t.qZA()())}function Z(i,n){1&i&&(t.TgZ(0,"div",44)(1,"span",45),t._uU(2,"Date must be greater than current date!"),t.qZA()())}function D(i,n){if(1&i&&(t.TgZ(0,"span",46),t._UZ(1,"input",47),t.TgZ(2,"label",48),t._uU(3),t.qZA()()),2&i){const e=n.$implicit;t.xp6(1),t.s9C("value",e),t.s9C("id",e),t.xp6(1),t.s9C("for",e),t.xp6(1),t.Oqu(e)}}const k=function(){return{URL:"My Profile",router:"/app/users"}},U=function(){return{URL:"Edit Profile",router:"/app/users/edits"}},A=function(i,n){return[i,n]};class y{constructor(n,e,o,r,l,c,p){this.userProfileService=n,this.activatedRoute=e,this.messageService=o,this.router=r,this.formBuilder=l,this.sanitizer=c,this.titleService=p,this.genderEnum=Object.keys(h),this.statusUpload=!1,this.dataList=[],this.phoneValidator=u=>{let v=new RegExp("^(0|\\+84)[0-9]{9,10}$");return u.value?v.test(u.value)?{}:{phoneRegex:!0,error:!0}:{}},this.dateValidator=u=>u.value&&new Date(u.value).valueOf()>(new Date).valueOf()?{date:!0,error:!0}:{},this.titleService.setTitle("QuizLab - Edit Profile")}ngOnInit(){this.formData=this.formBuilder.group({email:[null,a.kI.required],fullName:[null,a.kI.required],phone:[null,[this.phoneValidator]],dateOfBirth:[null,[this.dateValidator]],gender:[null]}),this.activatedRoute.paramMap.subscribe(n=>{this.userProfileService.getUser().subscribe({next:e=>{e.success&&e.data&&(this.email=e.data.email,this.fullName=e.data.fullName,this.dataList=e.data.courseList,this.imgSource=e.data?.userImage?e.data?.userImage.startsWith("https")?e.data.userImage:this.sanitizer.bypassSecurityTrustUrl("http://localhost:4200/assets/avatar/"+e.data.userImage):"../../../assets/avatar/default/default-avatar.jpg",this.formData.patchValue({...e.data}))}})})}submitForm(){for(const n in this.formData.controls)this.formData.controls[n].markAsDirty(),this.formData.controls[n].updateValueAndValidity();this.formData.invalid||this.userProfileService.updateUser(this.formData.value).subscribe({next:()=>{this.submitSuccess("Update was successful")}})}submitSuccess(n){this.messageService.success(n),this.router.navigate(["/app/users"])}handle(n){const o=n.target.files;for(let r=0;r<o.length;r++){let l=o[0],c=/^image\//;l.size>1048576?this.errorMessage="Image size must be less than 10MB":c.test(l.type)?(this.statusUpload=!1,this.imgSource=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(l)),this.file=o[0]):(this.statusUpload=!0,setTimeout(()=>{this.statusUpload=!1},1200),this.messageService.error("Only image files are allowed!"))}this.file&&this.userProfileService.uploadFile(this.file).subscribe(()=>{window.location.reload(),this.messageService.success("Uploaded image successfully")})}}y.\u0275fac=function(n){return new(n||y)(t.Y36(z.i),t.Y36(d.gz),t.Y36(b.dD),t.Y36(d.F0),t.Y36(a.qu),t.Y36(f.H7),t.Y36(f.Dx))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-user-profile"]],decls:68,vars:15,consts:[[3,"content"],[1,"container","px-0"],["content","Edit Profile"],["id","style-form"],["novalidate","",3,"formGroup","ngSubmit"],[1,"container"],[1,"row","gutters","d-flex","flex-column","justify-content-center","align-items-center","m-auto"],[1,"col-xl-3","col-lg-3","col-md-12","col-sm-12","col-12"],[1,"card","h-100"],[1,"card-body","d-flex","justify-content-center","p-2"],[1,"account-settings"],[1,"user-profile"],[3,"className"],["id","","alt","image",1,"avatar_img",3,"src"],[1,"avatar_upload"],[1,"upload_label"],["type","file","id","upload",3,"change"],["fileInput",""],[1,"infor","text-center"],[1,"user-name"],[1,"user-email"],["routerLink","/app/users/change-password",1,"mt-3","d-inline-block"],[1,"col-xl-9","col-lg-9","col-md-12","col-sm-12","col-12"],[1,"card-body"],[1,"row","gutters"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12","text-center"],[1,"mb-4","text-black"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"form-group"],["for","fullName"],["type","text","formControlName","fullName","id","fullName","required","",1,"form-control","rounded"],["class","text-danger",4,"ngIf"],["for","eMail"],["type","email","readonly","","formControlName","email","id","email",1,"form-control","rounded"],["for","phone"],["type","text","formControlName","phone","id","phone",1,"form-control","rounded"],[1,"labels"],["type","date","formControlName","dateOfBirth",1,"form-control","rounded"],[1,"labels","font-weight-bolder"],[1,"form-check","form-check-inline"],["class","px-2",4,"ngFor","ngForOf"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],[1,"text-right"],[1,"btn","btn-primary","profile-button","d-flex","justify-content-center","align-items-center","m-auto"],[1,"text-danger"],[1,"error-item"],[1,"px-2"],["type","radio","formControlName","gender",1,"form-check-input","radio-hover",2,"accent-color","blue",3,"value","id"],[1,"form-check-label",3,"for"]],template:function(n,e){if(1&n&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t._UZ(2,"app-title-app",2),t.qZA(),t.TgZ(3,"div",3)(4,"form",4),t.NdJ("ngSubmit",function(){return e.submitForm()}),t.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"div"),t._UZ(14,"img",13),t.qZA(),t.TgZ(15,"div",14)(16,"label",15),t._uU(17,"Upload "),t.TgZ(18,"input",16,17),t.NdJ("change",function(r){return e.handle(r)}),t.qZA()()()()(),t.TgZ(20,"div",18)(21,"h5",19),t._uU(22),t.qZA(),t.TgZ(23,"h6",20),t._uU(24),t.qZA(),t.TgZ(25,"a",21),t._uU(26,"Change Password"),t.qZA()()()()()(),t.TgZ(27,"div",22)(28,"div",8)(29,"div",23)(30,"div",24)(31,"div",25)(32,"h3",26),t._uU(33,"Personal Details"),t.qZA()(),t.TgZ(34,"div",27)(35,"div",28)(36,"label",29),t._uU(37,"Full Name"),t.qZA(),t._UZ(38,"input",30),t.YNc(39,I,3,0,"div",31),t.qZA()(),t.TgZ(40,"div",27)(41,"div",28)(42,"label",32),t._uU(43,"Email"),t.qZA(),t._UZ(44,"input",33),t.qZA()(),t.TgZ(45,"div",27)(46,"div",28)(47,"label",34),t._uU(48,"Phone"),t.qZA(),t._UZ(49,"input",35),t.YNc(50,S,3,0,"div",31),t.qZA()(),t.TgZ(51,"div",27)(52,"div",28)(53,"label",36),t._uU(54,"Date Of Birth"),t.qZA(),t._UZ(55,"input",37),t.YNc(56,Z,3,0,"div",31),t.qZA()(),t.TgZ(57,"div",27)(58,"label",38),t._uU(59,"Gender"),t.qZA(),t._UZ(60,"br"),t.TgZ(61,"div",39),t.YNc(62,D,4,4,"span",40),t.qZA()()(),t.TgZ(63,"div",24)(64,"div",41)(65,"div",42)(66,"button",43),t._uU(67,"Update "),t.qZA()()()()()()()()()()()),2&n){let o,r,l;t.Q6J("content",t.WLB(12,A,t.DdM(10,k),t.DdM(11,U))),t.xp6(4),t.Q6J("formGroup",e.formData),t.xp6(8),t.Q6J("className",e.statusUpload?"avatar avatar--upload-error":"avatar"),t.xp6(2),t.Q6J("src",e.imgSource,t.LSH),t.xp6(8),t.Oqu(e.fullName),t.xp6(2),t.Oqu(e.email),t.xp6(15),t.Q6J("ngIf",null==e.formData||null==(o=e.formData.get("fullName"))?null:o.hasError("required")),t.xp6(11),t.Q6J("ngIf",null==e.formData||null==(r=e.formData.get("phone"))?null:r.hasError("phoneRegex")),t.xp6(6),t.Q6J("ngIf",null==e.formData||null==(l=e.formData.get("dateOfBirth"))?null:l.hasError("date")),t.xp6(6),t.Q6J("ngForOf",e.genderEnum)}},dependencies:[_.sg,_.O5,a._Y,a.Fj,a._,a.JJ,a.JL,a.Q7,a.sg,a.u,O.L,P.D,d.rH],styles:['body[_ngcontent-%COMP%]{margin:0;padding-top:40px;color:#2e323c;background:#f5f6fa;position:relative;box-sizing:border-box}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{margin:0 0 1rem}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:100px}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   h5.user-name[_ngcontent-%COMP%]{margin:0 0 .5rem}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   h6.user-email[_ngcontent-%COMP%]{margin:0;font-size:.8rem;font-weight:400;color:#9fa8b9}.account-settings[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]{margin:2rem 0 0;text-align:center}.account-settings[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 15px;color:#007ae1}.account-settings[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.825rem}.form-control[_ngcontent-%COMP%]{border:1px solid #cfd1d8;border-radius:2px;font-size:.825rem;background:#ffffff;color:#2e323c}.card[_ngcontent-%COMP%]{background:#ffffff;border-radius:5px;border:0;margin-bottom:1rem}.border-style[_ngcontent-%COMP%]{width:200px;height:150px}.avatar[_ngcontent-%COMP%]{width:150px;border-radius:100%;border:2px solid #fff;margin:10px auto;position:relative;overflow:hidden;z-index:2;transform:translateZ(0);transition:border-color .2s}.avatar--upload-error[_ngcontent-%COMP%]{border-color:#f73c3c;animation:_ngcontent-%COMP%_shakeNo .3s 1 forwards}@keyframes _ngcontent-%COMP%_shakeNo{20%,60%{transform:translate(6px)}40%,80%{transform:translate(-6px)}}.avatar[_ngcontent-%COMP%]:hover   .avatar_upload[_ngcontent-%COMP%], .avatar--hover[_ngcontent-%COMP%]   .avatar_upload[_ngcontent-%COMP%]{opacity:1}.avatar[_ngcontent-%COMP%]:hover   .upload_label[_ngcontent-%COMP%], .avatar--hover[_ngcontent-%COMP%]   .upload_label[_ngcontent-%COMP%]{display:block}#preview[_ngcontent-%COMP%]:after{content:"Loading...";display:block;position:absolute;top:0;left:0;width:100%;text-align:center;z-index:-1;line-height:150px;color:#999}.avatar_img--loading[_ngcontent-%COMP%]{opacity:0}.avatar_img[_ngcontent-%COMP%]{width:100%;animation:_ngcontent-%COMP%_inPop .25s .15s 1 forwards cubic-bezier(.175,.885,.32,1.175);transform:scale(0);opacity:0;border-radius:100%}@keyframes _ngcontent-%COMP%_inPop{to{transform:scale(1);opacity:1}}.avatar_img--rotate90[_ngcontent-%COMP%]{transform:rotate(90deg)}.avatar_upload[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;text-align:center;height:100%;background:#25cfe3;background:rgba(44,205,251,.6);display:flex;align-items:center;opacity:0;transition:opacity .5s}.upload_label[_ngcontent-%COMP%]{color:#111;text-transform:uppercase;font-size:14px;cursor:pointer;white-space:nowrap;padding:4px;border-radius:3px;min-width:60px;width:100%;max-width:80px;margin:auto;font-weight:400;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:#fff;animation:_ngcontent-%COMP%_popDown .3s 1 forwards;transform:translateY(-10px);opacity:0;display:none;transition:background .2s,color .2s}@keyframes _ngcontent-%COMP%_popDown{to{transform:translateY(0);opacity:1}}.upload_label[_ngcontent-%COMP%]:hover{color:#fff;background:#222}#upload[_ngcontent-%COMP%]{width:100%;opacity:0;height:0;overflow:hidden;display:block;padding:0;text-align:center}.user-name[_ngcontent-%COMP%]{font-weight:600!important;font-size:1.5rem!important;font-family:Nunito,sans-serif}.user-email[_ngcontent-%COMP%]{margin:0;font-weight:400;font-size:.85rem;color:#9fa8b9;text-align:center;word-break:break-word}input.ng-valid.ng-dirty.ng-touched[_ngcontent-%COMP%]{margin-right:5px}.radio-color[_ngcontent-%COMP%]{accent-color:blue}#style-form[_ngcontent-%COMP%]{margin-top:100px;min-height:100%}.radio-hover[_ngcontent-%COMP%]:last-child{for:"gender"}a.mt-3.d-inline-block[_ngcontent-%COMP%]{color:#000;font-weight:700;width:155px;border:1px solid;border-radius:20px}']});const R=function(){return{URL:"My Profile",router:"/app/users"}},B=function(i){return[i]};class C{constructor(n,e,o,r,l,c,p){this.userProfileService=n,this.activatedRoute=e,this.messageService=o,this.router=r,this.formBuilder=l,this.sanitizer=c,this.titleService=p,this.genderEnum=Object.keys(h),this.dataList=[],this.statusUpload=!1,this.titleService.setTitle("QuizLab - My Profile")}ngOnInit(){this.activatedRoute.paramMap.subscribe(()=>{this.userProfileService.getUser().subscribe({next:n=>{this.imgSource=n.data?.userImage?n.data?.userImage.startsWith("https")?n.data.userImage:this.sanitizer.bypassSecurityTrustUrl("http://localhost:4200/assets/avatar/"+n.data.userImage):"../../../assets/avatar/default/default-avatar.jpg",n.success&&n.data&&(this.email=n.data.email,this.fullName=n.data.fullName?n.data.fullName:"None",this.gender=n.data.gender?n.data.gender:"None",this.phoneNumber=n.data.phone?n.data.phone:"None",this.dateOfBirth=n.data.dateOfBirth?n.data.dateOfBirth:"None")}})})}}C.\u0275fac=function(n){return new(n||C)(t.Y36(z.i),t.Y36(d.gz),t.Y36(b.dD),t.Y36(d.F0),t.Y36(a.qu),t.Y36(f.H7),t.Y36(f.Dx))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-edit-profile"]],decls:56,vars:12,consts:[[3,"content"],[1,"container","px-0"],["content","My Profile"],["id","style-form"],[1,"container"],[1,"row","gutters","d-flex","justify-content-center","align-items-center","flex-column","m-auto"],[1,"col-xl-3","col-lg-3","col-md-12","col-sm-12","col-12"],[1,"card","h-800"],[1,"card-body","d-flex","justify-content-center","p-2"],[1,"account-settings"],[1,"user-profile"],[1,"user-avatar","border-style"],["id","avatar",1,"rounded-circle","border",3,"src"],[1,"user-name"],[1,"user-email"],[1,"col-xl-9","col-lg-9","col-md-12","col-sm-12","col-12"],[1,"card","h-100"],[1,"card-body"],[1,"row","gutters"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12","text-center"],[1,"mb-4","text-black"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"form-group"],["for","fullName"],["disabled","","type","text","id","fullName",1,"form-control","rounded",3,"value"],["for","email"],["disabled","","type","text","id","email",1,"form-control","rounded",3,"value"],["for","phone"],["disabled","","type","text","id","phone",1,"form-control","rounded",3,"value"],["for","dateOfBirth"],["disabled","","type","text","id","dateOfBirth",1,"form-control","rounded",3,"value"],["for","gender"],["disabled","","type","text","id","gender",1,"form-control","rounded",3,"value"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],["routerLink","/app/users/edits"],["type","button",1,"btn","btn-primary","profile-button","d-flex","justify-content-center","align-items-center","m-auto"]],template:function(n,e){1&n&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t._UZ(2,"app-title-app",2),t.TgZ(3,"div",3)(4,"form")(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11),t._UZ(13,"img",12),t.qZA(),t.TgZ(14,"h5",13),t._uU(15),t.qZA(),t.TgZ(16,"h6",14),t._uU(17),t.qZA()()()()()(),t.TgZ(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18)(22,"div",19)(23,"h3",20),t._uU(24,"Personal Details"),t.qZA()(),t.TgZ(25,"div",21)(26,"div",22)(27,"label",23),t._uU(28,"Full Name"),t.qZA(),t._UZ(29,"input",24),t.qZA()(),t.TgZ(30,"div",21)(31,"div",22)(32,"label",25),t._uU(33,"Email"),t.qZA(),t._UZ(34,"input",26),t.qZA()(),t.TgZ(35,"div",21)(36,"div",22)(37,"label",27),t._uU(38,"Phone"),t.qZA(),t._UZ(39,"input",28),t.qZA()(),t.TgZ(40,"div",21)(41,"div",22)(42,"label",29),t._uU(43,"Date Of Birth"),t.qZA(),t._UZ(44,"input",30),t.qZA()(),t.TgZ(45,"div",21)(46,"div",22)(47,"label",31),t._uU(48,"Gender"),t.qZA(),t._UZ(49,"input",32),t.qZA()()(),t.TgZ(50,"div",18)(51,"div",33)(52,"div",22)(53,"a",34)(54,"button",35),t._uU(55,"Edit Profile "),t.qZA()()()()()()()()()()()()()),2&n&&(t.Q6J("content",t.VKq(10,B,t.DdM(9,R))),t.xp6(13),t.Q6J("src",e.imgSource,t.LSH),t.xp6(2),t.Oqu(e.fullName),t.xp6(2),t.Oqu(e.email),t.xp6(12),t.s9C("value",e.fullName),t.xp6(5),t.s9C("value",e.email),t.xp6(5),t.s9C("value",e.phoneNumber),t.xp6(5),t.s9C("value",e.dateOfBirth),t.xp6(5),t.s9C("value",e.gender))},dependencies:[a._Y,a.JL,a.F,O.L,P.D,d.rH],styles:["body[_ngcontent-%COMP%]{margin:0;padding-top:40px;color:#2e323c;background:#f5f6fa;position:relative;min-height:100%;box-sizing:border-box}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{padding-bottom:1rem;text-align:center}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{margin:0 0 1rem}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:100px}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   h5.user-name[_ngcontent-%COMP%]{margin:0 0 .5rem}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   h6.user-email[_ngcontent-%COMP%]{margin:0;font-size:.8rem;font-weight:400;color:#9fa8b9}.account-settings[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]{margin:2rem 0 0;text-align:center}.account-settings[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 15px;color:#007ae1}.account-settings[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.825rem}.form-control[_ngcontent-%COMP%]{border:1px solid #cfd1d8;border-radius:2px;font-size:.825rem;background:#ebebeb;color:#2e323c}.card[_ngcontent-%COMP%]{background:#ffffff;border-radius:5px;border:0;margin-bottom:1rem}.border-style[_ngcontent-%COMP%]{width:200px;height:150px}#avatar[_ngcontent-%COMP%]{width:150px;height:150px;border:1px solid black!important;padding:5px}.gender-disable[_ngcontent-%COMP%]{pointer-events:none!important}.user-email[_ngcontent-%COMP%]{margin:0;font-weight:400;font-size:.85rem;color:#9fa8b9;text-align:center;word-break:break-word}.user-name[_ngcontent-%COMP%]{font-weight:600!important;font-size:1.5rem!important;font-family:Nunito,sans-serif}#style-form[_ngcontent-%COMP%]{margin-top:100px;min-height:100%}button[_ngcontent-%COMP%]{margin-top:6px!important}"]});var M=s(3679),T=s(5635),F=s(7044),E=s(6704);function q(i,n){1&i&&(t.TgZ(0,"nz-form-item",11)(1,"nz-form-control")(2,"label"),t._uU(3,"Current password "),t.TgZ(4,"span",13),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"nz-input-group",14),t._UZ(7,"input",21),t.qZA()()())}function j(i,n){1&i&&(t.ynx(0),t._uU(1,"This field is required!"),t.BQk())}function L(i,n){1&i&&(t.ynx(0),t._uU(1,"Password is inconsistent!"),t.BQk())}function V(i,n){1&i&&(t.ynx(0),t._uU(1,"Password must be at least 8 characters!"),t.BQk())}function Q(i,n){if(1&i&&(t.YNc(0,j,2,0,"ng-container",22),t.YNc(1,L,2,0,"ng-container",22),t.YNc(2,V,2,0,"ng-container",22)),2&i){const e=n.$implicit;t.Q6J("ngIf",e.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.hasError("rePassword")),t.xp6(1),t.Q6J("ngIf",e.hasError("length"))}}class x{constructor(n,e,o,r,l,c){this.formBuilder=n,this.router=e,this.activeRoute=o,this.userService=r,this.messageService=l,this.titleService=c,this.confirmValidator=p=>p.value?p.value!==this.formData.value.newPassword?{rePassword:!0,error:!0}:{}:{required:!0,error:!0},this.lengthValidator=p=>p.value?p.value.length<8?{length:!0,error:!0}:{}:{required:!0,error:!0},c.setTitle("QuizLab - Change Password")}ngOnInit(){this.userService.checkLoginByGoogleOrNot().subscribe(n=>{this.resCopy=n,this.checkLoginByGoogle=!!this.resCopy.data}),this.formData=this.formBuilder.group({currentPassword:[],newPassword:[null,[a.kI.required,this.lengthValidator]],rePassword:[null,[a.kI.required,this.confirmValidator]]})}submitForm(){for(const n in this.formData.controls)this.formData.controls[n].markAsDirty(),this.formData.controls[n].updateValueAndValidity();this.formData.invalid||this.userService.changePassword(this.formData.value).subscribe({next:n=>{this.messageService.success("Update password successfully!"),this.router.navigate(["/app/users/edits"])}})}submitSuccess(n){this.messageService.success(n),this.router.navigate([""])}}x.\u0275fac=function(n){return new(n||x)(t.Y36(a.qu),t.Y36(d.F0),t.Y36(d.gz),t.Y36(z.i),t.Y36(b.dD),t.Y36(f.Dx))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-change-password"]],decls:37,vars:4,consts:[[1,"bg-home","bg-circle-gradiant","d-flex","align-items-center"],[1,"bg-overlay","bg-overlay-white"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6"],[1,"card","login-page","bg-white","shadow","rounded","border-0"],[1,"card-body"],[1,"mb-0","text-primary",2,"text-align","center"],["nz-form","","role","form","autocomplete","off",1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],["class","form-group position-relative col-lg-12",4,"ngIf"],[1,"form-group","position-relative","col-lg-12"],[3,"nzErrorTip"],[1,"text-danger"],["nzPrefixIcon","lock",1,"input-rounder","pb-2","pt-2"],["type","password","nz-input","","formControlName","newPassword","placeholder","New Password"],["type","password","nz-input","","formControlName","rePassword","placeholder","Re-password"],["passwordErrorTpl",""],["id","form-bottom",1,"form-group"],[1,"col-lg-12","mb-0"],[1,"btn","btn-primary","btn-block"],["type","password","nz-input","","formControlName","currentPassword","placeholder","Current Password"],[4,"ngIf"]],template:function(n,e){if(1&n&&(t.TgZ(0,"section",0),t._UZ(1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h4",7),t._uU(8,"Change Password"),t.qZA()(),t.TgZ(9,"div",6)(10,"form",8),t.NdJ("ngSubmit",function(){return e.submitForm()}),t.TgZ(11,"div",9),t.YNc(12,q,8,0,"nz-form-item",10),t.TgZ(13,"nz-form-item",11)(14,"nz-form-control",12)(15,"label"),t._uU(16,"New password "),t.TgZ(17,"span",13),t._uU(18,"*"),t.qZA()(),t.TgZ(19,"nz-input-group",14),t._UZ(20,"input",15),t.qZA()()(),t.TgZ(21,"nz-form-item",11)(22,"nz-form-control",12)(23,"label"),t._uU(24,"Re-new Password "),t.TgZ(25,"span",13),t._uU(26,"*"),t.qZA()(),t.TgZ(27,"nz-input-group",14),t._UZ(28,"input",16),t.qZA()()(),t.YNc(29,Q,3,3,"ng-template",null,17,t.W1O),t.qZA(),t.TgZ(31,"div",18)(32,"nz-form-item")(33,"nz-form-control")(34,"div",19)(35,"button",20),t._uU(36,"Change Password"),t.qZA()()()()()()()()()()()()),2&n){const o=t.MAs(30);t.xp6(10),t.Q6J("formGroup",e.formData),t.xp6(2),t.Q6J("ngIf",!e.checkLoginByGoogle),t.xp6(2),t.Q6J("nzErrorTip",o),t.xp6(8),t.Q6J("nzErrorTip",o)}},dependencies:[_.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,M.t3,M.SK,T.Zp,T.gB,F.w,E.Lr,E.Nx,E.Fd]});const Y=[{path:"",component:C},{path:"edits",component:y},{path:"change-password",component:x}];class g{}g.\u0275fac=function(n){return new(n||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[d.Bz.forChild(Y),d.Bz]});var $=s(2375),J=s(445);let G=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})();var W=s(3353),H=s(6287);let K=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[_.ez]}),i})();var X=s(8498),tt=s(7423),et=s(7570);let ut=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[J.vT,_.ez,tt.PV,et.cg,T.o7,X.YI,K,G,H.T,W.ud]}),i})();class m{}m.\u0275fac=function(n){return new(n||m)},m.\u0275mod=t.oAB({type:m}),m.\u0275inj=t.cJS({imports:[$.m,g,ut]})}}]);